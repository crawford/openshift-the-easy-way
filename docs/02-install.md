# Install

The OpenShift Installer is designed to help users, ranging from novices to
experts, create OpenShift clusters in various environments. By default, the
installer acts as an installation wizard, prompting the user for values that it
cannot determine on its own and providing reasonable defaults for everything
else. For more advanced users, the installer provides facilities for varying
levels of customization.

In [supported environments](#supported-environments), the installer is also
capable of provisioning the underlying infrastructure for the cluster. It is
recommended that most users make use of this functionality in order to avoid
having to provision their own infrastructure. In unsupported environments or
scenarios in which installer-created infrastructure would be incompatible, the
installer can stop short of creating the infrastructure, and allow the user to
provision their own infrastructure using the cluster assets generated by the
installer.

## Prerequisites

In the prior step, we downloaded the following:

1. installer (e.g. openshift-install-linux-amd64)
1. pull secret
1. configured env var for OPENSHIFT_PULL_SECRET_PATH

## Wizard

The installer provides a guided experience for provisioning the cluster on a
particular platform.  

After approximately 10 minutes, you should have a highly available cluster with
3 masters and 3 workers.

### Linux

The following demonstrates an install using the wizard as an example.

```
./openshift-install-linux-amd64 create cluster
? Email Address user@example.com
? Password [? for help] ********
? SSH Public Key ~/.ssh/id_rsa.pub
? Base Domain dev.example.com
? Cluster Name my-cluster
? Pull Secret [? for help] ******
? Platform aws
? Region us-east-2
INFO Creating cluster...                          
INFO Waiting 30m0s for the Kubernetes API...      
INFO API v1.11.0+99b66db up                       
INFO Waiting 30m0s for the bootstrap-complete event... 
INFO Destroying the bootstrap resources...        
INFO Waiting 10m0s for the openshift-console route to be created...
INFO Install complete!
INFO Run 'export KUBECONFIG=/home/decarr/go/src/github.com/openshift/installer/auth/kubeconfig' to manage the cluster with 'oc', the OpenShift CLI.
INFO The cluster is ready when 'oc login -u kubeadmin -p Seiv2-q9xJW-2rHR2-UGRRj' succeeds (wait a few minutes).
INFO Access the OpenShift web-console here: https://console-openshift-console.apps.decarr.openshift.demo
INFO Login to the console with user: kubeadmin, password: Seiv2-q9xJW-2rHR2-UGRRj
```

### Mac

The following demonstrates an install using the wizard as an example.

```
./openshift-install-darwin-amd64 create cluster
? Email Address user@example.com
? Password [? for help] ********
? SSH Public Key ~/.ssh/id_rsa.pub
? Base Domain dev.example.com
? Cluster Name my-cluster
? Pull Secret [? for help] ******
? Platform aws
? Region us-east-2
INFO Creating cluster...                          
INFO Waiting 30m0s for the Kubernetes API...      
INFO API v1.11.0+99b66db up                       
INFO Waiting 30m0s for the bootstrap-complete event... 
INFO Destroying the bootstrap resources...        
INFO Waiting 10m0s for the openshift-console route to be created...
INFO Install complete!
INFO Run 'export KUBECONFIG=/home/decarr/go/src/github.com/openshift/installer/auth/kubeconfig' to manage the cluster with 'oc', the OpenShift CLI.
INFO The cluster is ready when 'oc login -u kubeadmin -p Seiv2-q9xJW-2rHR2-UGRRj' succeeds (wait a few minutes).
INFO Access the OpenShift web-console here: https://console-openshift-console.apps.decarr.openshift.demo
INFO Login to the console with user: kubeadmin, password: Seiv2-q9xJW-2rHR2-UGRRj
```

## Populated Answers

If you want to avoid the wizard, its useful to setup a set of env vars for a
particular cloud platform.

### Amazon Web Services

#### Linux

```
## location of previously downloaded pull secret
export OPENSHIFT_INSTALL_PULL_SECRET_PATH=~/Downloads/pull-secret
## location of SSH public key
export OPENSHIFT_INSTALL_SSH_PUB_KEY_PATH=~/.ssh/id_rsa.pub
export OPENSHIFT_INSTALL_PLATFORM=aws
export OPENSHIFT_INSTALL_EMAIL_ADDRESS=user@example.com
## name of cluster
export OPENSHIFT_INSTALL_CLUSTER_NAME=my-cluster
export OPENSHIFT_INSTALL_PASSWORD=my-password
export OPENSHIFT_INSTALL_AWS_REGION=us-east-2
export OPENSHIFT_INSTALL_BASE_DOMAIN=devcluster.example.com
./openshift-install-linux-amd64 create cluster
```

#### Mac

```
## location of previously downloaded pull secret
export OPENSHIFT_INSTALL_PULL_SECRET_PATH=~/Downloads/pull-secret
## location of SSH public key
export OPENSHIFT_INSTALL_SSH_PUB_KEY_PATH=~/.ssh/id_rsa.pub
export OPENSHIFT_INSTALL_PLATFORM=aws
export OPENSHIFT_INSTALL_EMAIL_ADDRESS=user@example.com
## name of cluster
export OPENSHIFT_INSTALL_CLUSTER_NAME=my-cluster
export OPENSHIFT_INSTALL_PASSWORD=my-password
export OPENSHIFT_INSTALL_AWS_REGION=us-east-2
export OPENSHIFT_INSTALL_BASE_DOMAIN=devcluster.example.com
./openshift-install-darwin-amd64 create cluster
```

## Supported Environments

- AWS

Next: [Exploring the Cluster](03-explore.md)
